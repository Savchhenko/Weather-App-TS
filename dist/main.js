(()=>{"use strict";var e={392:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function c(e){try{s(o.next(e))}catch(e){a(e)}}function i(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRequest=void 0;const r=n(692);t.fetchRequest=function(e){return o(this,void 0,void 0,(function*(){let t=yield fetch(e);if(t.ok){let e=yield t.json();(0,r.showForecast)(e)}else alert("Wrong city"),console.log("Ошибка HTTP: "+t.status)}))}},326:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dateFormat=t.calcCoord=void 0,t.calcCoord=function(e){let t="";return e>0&&e>9||e<0&&e>-10?t=e.toString().slice(0,5):e>0&&e<10?t=e.toString().slice(0,4):e<0&&e<=-10&&(t=e.toString().slice(0,6)),1===t.split(".")[1].length?t+="0":0===t.split(".")[1].length&&(t+="00"),t},t.dateFormat=function(e){const t=new Date(1e3*e);return t.getHours()+":"+("0"+t.getMinutes()).substring(-2)}},69:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.currentCityName=t.apiKey=void 0;const o=n(326),r=n(178),a=n(392),c=n(585);t.apiKey="87a4e3b57fd5877a435275e9fae66ccd";const i=document.querySelector(".btn-show"),s=document.querySelector(".container__main--city"),u=document.querySelector(".container__main--date");t.currentCityName="";const l=new Date;u.innerHTML=l.toLocaleDateString(),i.addEventListener("click",(()=>{t.currentCityName=s.value,t.currentCityName?fetch(`http://api.openweathermap.org/data/2.5/weather?q=${s.value}&appid=${t.apiKey}`).then((e=>e.json())).then((e=>{"404"===e.cod?alert("City not found"):((0,r.showWeather)(e),document.querySelector(".btn-update").addEventListener("click",(()=>{(0,c.xhrRequest)()})),function(e,n){e.addEventListener("click",(()=>{const e=(0,o.calcCoord)(n.coord.lon),r=`https://api.openweathermap.org/data/2.5/onecall?lat=${(0,o.calcCoord)(n.coord.lat)}&lon=${e}&exclude=current,minutely,daily&appid=${t.apiKey}`;(0,a.fetchRequest)(r)}))}(document.querySelector(".btn-hourly"),e)),s.value=""})).catch((e=>console.log("Error: "+e))):alert("Enter name of the city and then press the button again")}))},692:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showForecast=void 0;const o=n(326),r=document.querySelector(".container__main"),a=document.querySelector(".container__forecast");t.showForecast=function(e){a.style.display="flex",r.style.display="none",document.querySelector(".btn-hourly").style.display="none";for(let t=1;t<24;t++){const n=(0,o.dateFormat)(e.hourly[t].dt),r=Math.round(e.hourly[t].temp-273.15),c=`http://openweathermap.org/img/wn/${e.hourly[t].weather[0].icon}@2x.png`,i=document.createElement("div"),s=`\n            <div class="container__forecast__item">\n                <span>${n}</span>\n                <span>${r}°C</span>\n                <img src="${c}">\n            </div>\n        `;a.appendChild(i),i.innerHTML=s}}},178:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showWeather=void 0;const n=document.querySelector(".container__weather");t.showWeather=function(e){const t=(new Date).toLocaleTimeString().slice(0,-3),o=Math.round(e.main.temp-273.15),r=`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`;n.style.display="flex",n.innerHTML=`\n        <h1 class="container__weather--city-name">${e.name}</h1>\n        <span>Status at ${t}</span>\n        <h2 class="container__weather--temp">${o}°C</h2>\n        <h2>${e.weather[0].description}</h2>\n        <img src=${r}>\n        <div>\n            <button class="btn-update btn">Update</button>\n            <button class="btn-hourly btn">Hourly forecast</button>\n        <div>\n    `}},585:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.xhrRequest=void 0;const o=n(178),r=n(69),a=n(69);t.xhrRequest=function(){let e=new XMLHttpRequest;e.open("GET",`http://api.openweathermap.org/data/2.5/weather?q=${a.currentCityName}&appid=${r.apiKey}`),e.responseType="json",e.send(),e.onload=function(){200!=e.status?alert("Something was going wrong"):(0,o.showWeather)(e.response)}}}},t={};!function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}(69)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoicWJBQUEsZUFFQSx3QkFBbUNBLEcseUNBQy9CLElBQUlDLFFBQWlCQyxNQUFNRixHQUMzQixHQUFJQyxFQUFTRSxHQUFJLENBQ2IsSUFBSUMsUUFBYUgsRUFBU0csUUFDMUIsSUFBQUMsY0FBYUQsUUFFYkUsTUFBTSxjQUNOQyxRQUFRQyxJQUFJLGdCQUFrQlAsRUFBU1EsYSw2RkNSbEMsRUFBQUMsVUFBWSxTQUFVQyxHQUMvQixJQUFJQyxFQUFnQixHQWdCcEIsT0FkS0QsRUFBTSxHQUFLQSxFQUFNLEdBQU9BLEVBQU0sR0FBS0EsR0FBTyxHQUMzQ0MsRUFBUUQsRUFBSUUsV0FBV0MsTUFBTSxFQUFHLEdBQ3pCSCxFQUFNLEdBQUtBLEVBQU0sR0FDeEJDLEVBQVFELEVBQUlFLFdBQVdDLE1BQU0sRUFBRyxHQUN6QkgsRUFBTSxHQUFLQSxJQUFRLEtBQzFCQyxFQUFRRCxFQUFJRSxXQUFXQyxNQUFNLEVBQUcsSUFHRCxJQUEvQkYsRUFBTUcsTUFBTSxLQUFLLEdBQUdDLE9BQ3BCSixHQUFnQixJQUNzQixJQUEvQkEsRUFBTUcsTUFBTSxLQUFLLEdBQUdDLFNBQzNCSixHQUFnQixNQUdiQSxHQUdYLHNCQUEyQkQsR0FDdkIsTUFBTU0sRUFBTyxJQUFJQyxLQUFXLElBQU5QLEdBTXRCLE9BTGNNLEVBQUtFLFdBR1csS0FGZCxJQUFNRixFQUFLRyxjQUVpQkMsV0FBVyxLLGdHQzFCM0QsZUFDQSxTQUNBLFNBQ0EsU0FFYSxFQUFBQyxPQUFpQixtQ0FDOUIsTUFBTUMsRUFBMkJDLFNBQVNDLGNBQWMsYUFDbERDLEVBQThCRixTQUFTQyxjQUFjLDBCQUNyREUsRUFBd0JILFNBQVNDLGNBQWMsMEJBRTFDLEVBQUFHLGdCQUEwQixHQUVyQyxNQUFNWCxFQUFPLElBQUlDLEtBQ2pCUyxFQUFTRSxVQUFZWixFQUFLYSxxQkFFMUJQLEVBQVlRLGlCQUFpQixTQUFTLEtBQ2xDLEVBQUFILGdCQUFrQkYsRUFBVU0sTUFFdkIsRUFBQUosZ0JBS0wxQixNQUFNLG9EQUFvRHdCLEVBQVVNLGVBQWUsRUFBQVYsVUFDOUVXLE1BQUtoQyxHQUFZQSxFQUFTRyxTQUMxQjZCLE1BQUtDLElBQ2UsUUFBYkEsRUFBS0MsSUFDTDdCLE1BQU0sb0JBRU4sSUFBQThCLGFBQVlGLEdBQ2tCVixTQUFTQyxjQUFjLGVBUzdETSxpQkFBaUIsU0FBUyxNQUMxQixJQUFBTSxpQkFJUixTQUFrQ0MsRUFBa0JKLEdBQ2hESSxFQUFJUCxpQkFBaUIsU0FBUyxLQUMxQixNQUFNUSxHQUFNLElBQUE3QixXQUFVd0IsRUFBS3RCLE1BQU0yQixLQUUzQnZDLEVBQU0sd0RBREEsSUFBQVUsV0FBVXdCLEVBQUt0QixNQUFNNEIsWUFDNkNELDBDQUE0QyxFQUFBakIsVUFFMUgsSUFBQW1CLGNBQWF6QyxNQW5CTDBDLENBQXNDbEIsU0FBU0MsY0FBYyxlQUFnQlMsSUFFakZSLEVBQVVNLE1BQVEsTUFFekJXLE9BQU1DLEdBQU9yQyxRQUFRQyxJQUFJLFVBQVlvQyxLQWhCbEN0QyxNQUFNLDhELHFGQ25CZCxlQUVNdUMsRUFBNkJyQixTQUFTQyxjQUFjLG9CQUNwRHFCLEVBQWlDdEIsU0FBU0MsY0FBYyx3QkFFOUQsd0JBQTZCUyxHQUN6QlksRUFBa0JDLE1BQU1DLFFBQVUsT0FDbENILEVBQWNFLE1BQU1DLFFBQVUsT0FDQ3hCLFNBQVNDLGNBQWMsZUFDNUNzQixNQUFNQyxRQUFVLE9BRTFCLElBQUssSUFBSUMsRUFBSSxFQUFHQSxFQUFJLEdBQUlBLElBQUssQ0FDekIsTUFBTUMsR0FBTyxJQUFBQyxZQUFXakIsRUFBS2tCLE9BQU9ILEdBQUdJLElBQ2pDQyxFQUFPQyxLQUFLQyxNQUFNdEIsRUFBS2tCLE9BQU9ILEdBQUdLLEtBQU8sUUFDeENHLEVBQVMsb0NBQW9DdkIsRUFBS2tCLE9BQU9ILEdBQUdTLFFBQVEsR0FBR0MsY0FFdkVDLEVBQWVwQyxTQUFTcUMsY0FBYyxPQUN0Q0MsRUFBc0IsZ0ZBRVpaLG1DQUNBSSx5Q0FDSUcsb0NBR3BCWCxFQUFrQmlCLFlBQVlILEdBQzlCQSxFQUFhL0IsVUFBWWlDLEssa0ZDekJqQyxNQUFNRSxFQUFnQ3hDLFNBQVNDLGNBQWMsdUJBRTdELHVCQUE0QlMsR0FDeEIsTUFBTWdCLEdBQU8sSUFBSWhDLE1BQU8rQyxxQkFBcUJuRCxNQUFNLEdBQUcsR0FDaER3QyxFQUFPQyxLQUFLQyxNQUFNdEIsRUFBS2dDLEtBQUtaLEtBQU8sUUFDbkNHLEVBQVMsb0NBQW9DdkIsRUFBS3dCLFFBQVEsR0FBR0MsY0FFbkVLLEVBQWlCakIsTUFBTUMsUUFBVSxPQUVqQ2dCLEVBQWlCbkMsVUFBWSx1REFDbUJLLEVBQUtpQyxzQ0FDL0JqQiwwREFDcUJJLHlCQUNqQ3BCLEVBQUt3QixRQUFRLEdBQUdVLHNDQUNYWCw0SyxtRkNkbkIsZUFDQSxRQUNBLFFBRUEsd0JBQ0ksSUFBSVksRUFBTSxJQUFJQyxlQUNWRCxFQUFJRSxLQUFLLE1BQU8sb0RBQW9ELEVBQUEzQyx5QkFBeUIsRUFBQU4sVUFDN0YrQyxFQUFJRyxhQUFlLE9BQ25CSCxFQUFJSSxPQUNKSixFQUFJSyxPQUFTLFdBQ1MsS0FBZEwsRUFBSTVELE9BQ0pILE1BQU0sOEJBRU4sSUFBQThCLGFBQVlpQyxFQUFJcEUsY0NaNUIwRSxFQUEyQixJQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxJQU9WLE9BSEFFLEVBQW9CTCxHQUFVTSxLQUFLRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSixHQUdwRUssRUFBT0QsUUNsQldKLENBQW9CLEsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXNrXzExXzEvLi9zcmMvc2NyaXB0cy9mZXRjaC1yZXF1ZXN0LnRzIiwid2VicGFjazovL3Rhc2tfMTFfMS8uL3NyYy9zY3JpcHRzL2Zvcm1hdHRlcnMudHMiLCJ3ZWJwYWNrOi8vdGFza18xMV8xLy4vc3JjL3NjcmlwdHMvbWFpbi50cyIsIndlYnBhY2s6Ly90YXNrXzExXzEvLi9zcmMvc2NyaXB0cy9zaG93LWZvcmVjYXN0LnRzIiwid2VicGFjazovL3Rhc2tfMTFfMS8uL3NyYy9zY3JpcHRzL3Nob3ctd2VhdGhlci50cyIsIndlYnBhY2s6Ly90YXNrXzExXzEvLi9zcmMvc2NyaXB0cy94aHItcmVxdWVzdC50cyIsIndlYnBhY2s6Ly90YXNrXzExXzEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdGFza18xMV8xL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaG93Rm9yZWNhc3QgfSBmcm9tIFwiLi9zaG93LWZvcmVjYXN0XCI7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0KGFwaTogc3RyaW5nKSB7XHJcbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChhcGkpO1xyXG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgbGV0IGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgc2hvd0ZvcmVjYXN0KGpzb24pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydChcIldyb25nIGNpdHlcIik7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLQntGI0LjQsdC60LAgSFRUUDogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgfVxyXG59IiwiLy8g0KTQvtGA0LzQsNGC0LjRgNGD0LXRgiDQutC+0L7RgNC00LjQvdCw0YLRgywg0YfRgtC+0LHRiyDQvtC90LAg0YHQvtC00LXRgNC20LDQu9CwINGB0YLRgNC+0LPQviAyINGG0LjRhNGA0Ysg0L/QvtGB0LvQtSDQt9Cw0L/Rj9GC0L7QuVxyXG5leHBvcnQgY29uc3QgY2FsY0Nvb3JkID0gZnVuY3Rpb24gKG51bTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGxldCBjb29yZDogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgaWYgKChudW0gPiAwICYmIG51bSA+IDkpIHx8IChudW0gPCAwICYmIG51bSA+IC0xMCkpIHtcclxuICAgICAgICBjb29yZCA9IG51bS50b1N0cmluZygpLnNsaWNlKDAsIDUpO1xyXG4gICAgfSBlbHNlIGlmIChudW0gPiAwICYmIG51bSA8IDEwKSB7XHJcbiAgICAgICAgY29vcmQgPSBudW0udG9TdHJpbmcoKS5zbGljZSgwLCA0KTtcclxuICAgIH0gZWxzZSBpZiAobnVtIDwgMCAmJiBudW0gPD0gLTEwKSB7XHJcbiAgICAgICAgY29vcmQgPSBudW0udG9TdHJpbmcoKS5zbGljZSgwLCA2KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29vcmQuc3BsaXQoXCIuXCIpWzFdLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIGNvb3JkID0gY29vcmQgKyBcIjBcIjtcclxuICAgIH0gZWxzZSBpZiAoY29vcmQuc3BsaXQoXCIuXCIpWzFdLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvb3JkID0gY29vcmQgKyBcIjAwXCI7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvb3JkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRhdGVGb3JtYXQobnVtOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKG51bSAqIDEwMDApO1xyXG4gICAgY29uc3QgaG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gXCIwXCIgKyBkYXRlLmdldE1pbnV0ZXMoKTtcclxuXHJcbiAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gaG91cnMgKyAnOicgKyBtaW51dGVzLnN1YnN0cmluZygtMik7XHJcblxyXG4gICAgcmV0dXJuIGZvcm1hdHRlZERhdGU7XHJcbn1cclxuIiwiaW1wb3J0IHsgY2FsY0Nvb3JkIH0gZnJvbSBcIi4vZm9ybWF0dGVyc1wiO1xyXG5pbXBvcnQgeyBzaG93V2VhdGhlciB9IGZyb20gXCIuL3Nob3ctd2VhdGhlclwiO1xyXG5pbXBvcnQgeyBmZXRjaFJlcXVlc3QgfSBmcm9tIFwiLi9mZXRjaC1yZXF1ZXN0XCI7XHJcbmltcG9ydCB7IHhoclJlcXVlc3QgfSBmcm9tIFwiLi94aHItcmVxdWVzdFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFwaUtleTogc3RyaW5nID0gXCI4N2E0ZTNiNTdmZDU4NzdhNDM1Mjc1ZTlmYWU2NmNjZFwiO1xyXG5jb25zdCBzaG93QnRuRWxlbSA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ0bi1zaG93XCIpO1xyXG5jb25zdCBpbnB1dEVsZW0gPSA8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lcl9fbWFpbi0tY2l0eVwiKTtcclxuY29uc3QgZGF0ZUVsZW0gPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJfX21haW4tLWRhdGVcIik7XHJcblxyXG5leHBvcnQgbGV0IGN1cnJlbnRDaXR5TmFtZTogc3RyaW5nID0gJyc7XHJcblxyXG5jb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuZGF0ZUVsZW0uaW5uZXJIVE1MID0gZGF0ZS50b0xvY2FsZURhdGVTdHJpbmcoKTtcclxuXHJcbnNob3dCdG5FbGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjdXJyZW50Q2l0eU5hbWUgPSBpbnB1dEVsZW0udmFsdWU7XHJcblxyXG4gICAgaWYgKCFjdXJyZW50Q2l0eU5hbWUpIHtcclxuICAgICAgICBhbGVydChcIkVudGVyIG5hbWUgb2YgdGhlIGNpdHkgYW5kIHRoZW4gcHJlc3MgdGhlIGJ1dHRvbiBhZ2FpblwiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZmV0Y2goYGh0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2lucHV0RWxlbS52YWx1ZX0mYXBwaWQ9JHthcGlLZXl9YClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNvZCA9PT0gXCI0MDRcIikge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJDaXR5IG5vdCBmb3VuZFwiKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3dXZWF0aGVyKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQnRuSGFuZGxlcig8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4tdXBkYXRlXCIpKTtcclxuICAgICAgICAgICAgICAgIGhvdXJseUZvcmVjYXN0QnRuSGFuZGxlcig8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idG4taG91cmx5XCIpLCBkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnB1dEVsZW0udmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgZXJyKSk7XHJcbn0pXHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdG5IYW5kbGVyKGJ0bjogSFRNTEVsZW1lbnQpIHtcclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHhoclJlcXVlc3QoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaG91cmx5Rm9yZWNhc3RCdG5IYW5kbGVyKGJ0bjogSFRNTEVsZW1lbnQsIGRhdGE6IGFueSkge1xyXG4gICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbG9uID0gY2FsY0Nvb3JkKGRhdGEuY29vcmQubG9uKTtcclxuICAgICAgICBjb25zdCBsYXQgPSBjYWxjQ29vcmQoZGF0YS5jb29yZC5sYXQpO1xyXG4gICAgICAgIGNvbnN0IGFwaSA9IGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvb25lY2FsbD9sYXQ9JHtsYXR9Jmxvbj0ke2xvbn0mZXhjbHVkZT1jdXJyZW50LG1pbnV0ZWx5LGRhaWx5JmFwcGlkPSR7YXBpS2V5fWA7XHJcblxyXG4gICAgICAgIGZldGNoUmVxdWVzdChhcGkpO1xyXG4gICAgfSlcclxufVxyXG4iLCJpbXBvcnQgeyBkYXRlRm9ybWF0IH0gZnJvbSBcIi4vZm9ybWF0dGVyc1wiO1xyXG5cclxuY29uc3QgbWFpbkNvbnRhaW5lciA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lcl9fbWFpblwiKTtcclxuY29uc3QgZm9yZWNhc3RDb250YWluZXIgPSA8SFRNTEVsZW1lbnQ+ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWluZXJfX2ZvcmVjYXN0XCIpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dGb3JlY2FzdChkYXRhOiBhbnkpIHtcclxuICAgIGZvcmVjYXN0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgIG1haW5Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgY29uc3QgYnRuSG91cmx5ID0gPEhUTUxFbGVtZW50PmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnRuLWhvdXJseVwiKVxyXG4gICAgYnRuSG91cmx5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IDI0OyBpKyspIHtcclxuICAgICAgICBjb25zdCB0aW1lID0gZGF0ZUZvcm1hdChkYXRhLmhvdXJseVtpXS5kdCk7XHJcbiAgICAgICAgY29uc3QgdGVtcCA9IE1hdGgucm91bmQoZGF0YS5ob3VybHlbaV0udGVtcCAtIDI3My4xNSk7O1xyXG4gICAgICAgIGNvbnN0IGltZ1NyYyA9IGBodHRwOi8vb3BlbndlYXRoZXJtYXAub3JnL2ltZy93bi8ke2RhdGEuaG91cmx5W2ldLndlYXRoZXJbMF0uaWNvbn1AMngucG5nYDtcclxuXHJcbiAgICAgICAgY29uc3QgZm9yZWNhc3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBjb25zdCBmb3JlY2FzdEl0ZW1Db250ZW50ID0gYFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyX19mb3JlY2FzdF9faXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4+JHt0aW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuPiR7dGVtcH3CsEM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aW1nU3JjfVwiPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG4gICAgICAgIGZvcmVjYXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGZvcmVjYXN0SXRlbSk7XHJcbiAgICAgICAgZm9yZWNhc3RJdGVtLmlubmVySFRNTCA9IGZvcmVjYXN0SXRlbUNvbnRlbnQ7XHJcbiAgICB9XHJcbn1cclxuIiwiY29uc3Qgd2VhdGhlckNvbnRhaW5lciA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhaW5lcl9fd2VhdGhlclwiKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93V2VhdGhlcihkYXRhOiBhbnkpIHtcclxuICAgIGNvbnN0IHRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygpLnNsaWNlKDAsLTMpO1xyXG4gICAgY29uc3QgdGVtcCA9IE1hdGgucm91bmQoZGF0YS5tYWluLnRlbXAgLSAyNzMuMTUpO1xyXG4gICAgY29uc3QgaW1nU3JjID0gYGh0dHA6Ly9vcGVud2VhdGhlcm1hcC5vcmcvaW1nL3duLyR7ZGF0YS53ZWF0aGVyWzBdLmljb259QDJ4LnBuZ2A7XHJcblxyXG4gICAgd2VhdGhlckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblxyXG4gICAgd2VhdGhlckNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGgxIGNsYXNzPVwiY29udGFpbmVyX193ZWF0aGVyLS1jaXR5LW5hbWVcIj4ke2RhdGEubmFtZX08L2gxPlxyXG4gICAgICAgIDxzcGFuPlN0YXR1cyBhdCAke3RpbWV9PC9zcGFuPlxyXG4gICAgICAgIDxoMiBjbGFzcz1cImNvbnRhaW5lcl9fd2VhdGhlci0tdGVtcFwiPiR7dGVtcH3CsEM8L2gyPlxyXG4gICAgICAgIDxoMj4ke2RhdGEud2VhdGhlclswXS5kZXNjcmlwdGlvbn08L2gyPlxyXG4gICAgICAgIDxpbWcgc3JjPSR7aW1nU3JjfT5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLXVwZGF0ZSBidG5cIj5VcGRhdGU8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1ob3VybHkgYnRuXCI+SG91cmx5IGZvcmVjYXN0PC9idXR0b24+XHJcbiAgICAgICAgPGRpdj5cclxuICAgIGA7XHJcbn07XHJcbiIsImltcG9ydCB7IHNob3dXZWF0aGVyIH0gZnJvbSBcIi4vc2hvdy13ZWF0aGVyXCI7XHJcbmltcG9ydCB7IGFwaUtleSB9IGZyb20gXCIuL21haW5cIjtcclxuaW1wb3J0IHsgY3VycmVudENpdHlOYW1lIH0gZnJvbSBcIi4vbWFpblwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHhoclJlcXVlc3QoKSB7XHJcbiAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgYGh0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/cT0ke2N1cnJlbnRDaXR5TmFtZX0mYXBwaWQ9JHthcGlLZXl9YCk7XHJcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdqc29uJztcclxuICAgICAgICB4aHIuc2VuZCgpO1xyXG4gICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgIT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIlNvbWV0aGluZyB3YXMgZ29pbmcgd3JvbmdcIilcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNob3dXZWF0aGVyKHhoci5yZXNwb25zZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg2OSk7XG4iXSwibmFtZXMiOlsiYXBpIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwianNvbiIsInNob3dGb3JlY2FzdCIsImFsZXJ0IiwiY29uc29sZSIsImxvZyIsInN0YXR1cyIsImNhbGNDb29yZCIsIm51bSIsImNvb3JkIiwidG9TdHJpbmciLCJzbGljZSIsInNwbGl0IiwibGVuZ3RoIiwiZGF0ZSIsIkRhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJzdWJzdHJpbmciLCJhcGlLZXkiLCJzaG93QnRuRWxlbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0RWxlbSIsImRhdGVFbGVtIiwiY3VycmVudENpdHlOYW1lIiwiaW5uZXJIVE1MIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbHVlIiwidGhlbiIsImRhdGEiLCJjb2QiLCJzaG93V2VhdGhlciIsInhoclJlcXVlc3QiLCJidG4iLCJsb24iLCJsYXQiLCJmZXRjaFJlcXVlc3QiLCJob3VybHlGb3JlY2FzdEJ0bkhhbmRsZXIiLCJjYXRjaCIsImVyciIsIm1haW5Db250YWluZXIiLCJmb3JlY2FzdENvbnRhaW5lciIsInN0eWxlIiwiZGlzcGxheSIsImkiLCJ0aW1lIiwiZGF0ZUZvcm1hdCIsImhvdXJseSIsImR0IiwidGVtcCIsIk1hdGgiLCJyb3VuZCIsImltZ1NyYyIsIndlYXRoZXIiLCJpY29uIiwiZm9yZWNhc3RJdGVtIiwiY3JlYXRlRWxlbWVudCIsImZvcmVjYXN0SXRlbUNvbnRlbnQiLCJhcHBlbmRDaGlsZCIsIndlYXRoZXJDb250YWluZXIiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJtYWluIiwibmFtZSIsImRlc2NyaXB0aW9uIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwicmVzcG9uc2VUeXBlIiwic2VuZCIsIm9ubG9hZCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=